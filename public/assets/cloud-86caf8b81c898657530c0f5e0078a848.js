function init(){container=document.createElement("div"),container.id="intro",document.body.appendChild(container);var e=document.createElement("canvas");e.width=32,e.height=window.innerHeight;var t=e.getContext("2d"),n=t.createLinearGradient(0,0,0,e.height);t.fillRect(0,0,e.width,e.height),container.style.background="url("+e.toDataURL("image/png")+")",container.style.backgroundSize="32px 100%",camera=new THREE.PerspectiveCamera(15,window.innerWidth/window.innerHeight,1,5e3),camera.position.z=6e3,camera.position.y=-70,scene=new THREE.Scene,geometry=new THREE.Geometry;var r=THREE.ImageUtils.loadTexture("img/cloud_dark.png",null,animate);r.magFilter=THREE.LinearMipMapLinearFilter,r.minFilter=THREE.LinearMipMapLinearFilter;var i=new THREE.Fog(4490473,-1e3,3500);material=new THREE.ShaderMaterial({uniforms:{map:{type:"t",value:r},fogColor:{type:"c",value:i.color},fogNear:{type:"f",value:i.near},fogFar:{type:"f",value:i.far}},vertexShader:document.getElementById("vs").textContent,fragmentShader:document.getElementById("fs").textContent,depthWrite:!1,depthTest:!1,transparent:!0});var s=new THREE.Mesh(new THREE.PlaneGeometry(64,64));for(var o=0;o<8e3;o++)s.position.x=Math.random()*1e3-500,s.position.y=-Math.random()*Math.random()*200-15,s.position.z=o,s.rotation.z=Math.random()*Math.PI,s.scale.x=s.scale.y=Math.random()*Math.random()*1.5+.5,THREE.GeometryUtils.merge(geometry,s);mesh=new THREE.Mesh(geometry,material),scene.add(mesh),mesh=new THREE.Mesh(geometry,material),mesh.position.z=-8e3,scene.add(mesh),renderer=new THREE.WebGLRenderer({antialias:!1}),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(e){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){setTimeout(function(){requestAnimationFrame(animate),position=(Date.now()-start_time)*.03%8e3,camera.position.x+=(mouseX-camera.position.x)*.01,camera.position.y+=(-mouseY-camera.position.y)*.01,camera.position.z=-position+8e3,renderer.render(scene,camera)},1e3/fps)}var container,camera,scene,renderer,mesh,geometry,material,mouseX=0,mouseY=-10,start_time=Date.now(),fps=15,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2;init();