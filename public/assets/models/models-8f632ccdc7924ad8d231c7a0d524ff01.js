(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};App.User=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.url=function(){return"users/"+this.id},n.prototype.initialize=function(e){return this.id=e.id,this},n}(Backbone.Model),App.CurrentUser=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.url="current",n.prototype.initialize=function(){return this},n}(Backbone.Model),App.Users=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=App.User,n.prototype.url="users",n.prototype.initialize=function(){},n.prototype.getThumb=function(e){return this.get(e).get("thumb_url")},n.prototype.getName=function(e){return this.get(e).get("name")},n}(Backbone.Collection),App.Log=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.paramRoot="log",n.prototype.url=function(){return this.id?"log/"+this.id:"log"},n.prototype.initialize=function(e){},n}(Backbone.Model),App.Logs=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=App.Log,n.prototype.url="log",n}(Backbone.Collection),App.Comment=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.paramRoot="comment",n.prototype.url=function(){return this.id?"comment/"+this.id:"comment"},n.prototype.initialize=function(e){},n}(Backbone.Model),App.Comments=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=App.Comment,n.prototype.url="comment",n.prototype.initialize=function(){},n.prototype.getLogComments=function(e){return this.where({log_id:e})},n}(Backbone.Collection),App.Reply=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.paramRoot="reply",n.prototype.url=function(){return this.id?"reply/"+this.id:"reply"},n.prototype.initialize=function(){},n}(Backbone.Model),App.Replies=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=App.Reply,n.prototype.url="reply",n.prototype.initialize=function(){},n.prototype.getCommentReplies=function(e){return this.where({comment_id:e})},n}(Backbone.Collection),App.Vote=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.paramRoot="vote",n.prototype.url=function(){return this.id?"vote/"+this.id:"vote"},n.prototype.initialize=function(e){var t;return t=this,this.bind("remove",function(){return t.destroy()})},n}(Backbone.Model),App.Votes=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.model=App.Vote,n.prototype.url="vote",n.prototype.initialize=function(){},n.prototype.getVotes=function(e){var t,n,r;return r=!1,n=this.where({log_id:e}),t=this.where({log_id:e,user_id:App.currentUser.get("id")}),t.length>0&&(r=!0),{count:n.length,userVote:r}},n}(Backbone.Collection)}).call(this);