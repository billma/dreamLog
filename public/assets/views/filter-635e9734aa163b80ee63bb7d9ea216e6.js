(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};App.Filter=function(t){function r(){return this.searchTitle=e(this.searchTitle,this),r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.el="body",r.prototype.events={"click #filter":"togglePopup","click .popup-option":"close","click #userFilter":"userFilter","click #noFilter":"noFilter","keyup #search":"searchTitle"},r.prototype.initialize=function(){var e;return this.mode="noFilter",e=this,$(window).click(function(t){if(t.target.id!=="filter")return e.close()})},r.prototype.open=function(){return $(".popup").addClass("popup_open")},r.prototype.close=function(){return $(".popup").removeClass("popup_open")},r.prototype.hide=function(){return $("#filter").hide()},r.prototype.show=function(){return $("#filter").show()},r.prototype.togglePopup=function(){return $(".popup").hasClass("popup_open")?this.close():this.open()},r.prototype.noFilter=function(){return this.mode="noFilter",$(".dream").show()},r.prototype.userFilter=function(){return this.mode="userFilter",$(".dream").show(),$('.dream[user_id!="'+App.currentUser.get("id")+'"]').hide()},r.prototype.searchTitle=function(e){var t;t=$("#search").val().toLowerCase().replace(/\s+/g,"");if(t!=="")return $(".dream").hide(),$(".dream[title*="+t+"]").show();this.mode==="noFilter"&&this.noFilter();if(this.mode==="userFilter"||editMode)return this.userFilter()},r}(Backbone.View)}).call(this);